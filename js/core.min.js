/********************************************/
/*	core.min.js
/*
/*  latest update: 28/03/2013
/*******************************************/
jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(i,g,k,f,j){return jQuery.easing[jQuery.easing.def](i,g,k,f,j);},easeInQuad:function(i,g,k,f,j){return f*(g/=j)*g+k;},easeOutQuad:function(i,g,k,f,j){return -f*(g/=j)*(g-2)+k;},easeInOutQuad:function(i,g,k,f,j){return 1>(g/=j/2)?f/2*g*g+k:-f/2*(--g*(g-2)-1)+k;},easeInCubic:function(i,g,k,f,j){return f*(g/=j)*g*g+k;},easeOutCubic:function(i,g,k,f,j){return f*((g=g/j-1)*g*g+1)+k;},easeInOutCubic:function(i,g,k,f,j){return 1>(g/=j/2)?f/2*g*g*g+k:f/2*((g-=2)*g*g+2)+k;},easeInQuart:function(i,g,k,f,j){return f*(g/=j)*g*g*g+k;},easeOutQuart:function(i,g,k,f,j){return -f*((g=g/j-1)*g*g*g-1)+k;},easeInOutQuart:function(i,g,k,f,j){return 1>(g/=j/2)?f/2*g*g*g*g+k:-f/2*((g-=2)*g*g*g-2)+k;},easeInQuint:function(i,g,k,f,j){return f*(g/=j)*g*g*g*g+k;},easeOutQuint:function(i,g,k,f,j){return f*((g=g/j-1)*g*g*g*g+1)+k;},easeInOutQuint:function(i,g,k,f,j){return 1>(g/=j/2)?f/2*g*g*g*g*g+k:f/2*((g-=2)*g*g*g*g+2)+k;},easeInSine:function(i,g,k,f,j){return -f*Math.cos(g/j*(Math.PI/2))+f+k;},easeOutSine:function(i,g,k,f,j){return f*Math.sin(g/j*(Math.PI/2))+k;},easeInOutSine:function(i,g,k,f,j){return -f/2*(Math.cos(Math.PI*g/j)-1)+k;},easeInExpo:function(i,g,k,f,j){return 0==g?k:f*Math.pow(2,10*(g/j-1))+k;},easeOutExpo:function(i,g,k,f,j){return g==j?k+f:f*(-Math.pow(2,-10*g/j)+1)+k;},easeInOutExpo:function(i,g,k,f,j){return 0==g?k:g==j?k+f:1>(g/=j/2)?f/2*Math.pow(2,10*(g-1))+k:f/2*(-Math.pow(2,-10*--g)+2)+k;},easeInCirc:function(i,g,k,f,j){return -f*(Math.sqrt(1-(g/=j)*g)-1)+k;},easeOutCirc:function(i,g,k,f,j){return f*Math.sqrt(1-(g=g/j-1)*g)+k;},easeInOutCirc:function(i,g,k,f,j){return 1>(g/=j/2)?-f/2*(Math.sqrt(1-g*g)-1)+k:f/2*(Math.sqrt(1-(g-=2)*g)+1)+k;},easeInElastic:function(m,j,o,i,n){var m=1.70158,l=0,k=i;if(0==j){return o;}if(1==(j/=n)){return o+i;}l||(l=0.3*n);k<Math.abs(i)?(k=i,m=l/4):m=l/(2*Math.PI)*Math.asin(i/k);return -(k*Math.pow(2,10*(j-=1))*Math.sin((j*n-m)*2*Math.PI/l))+o;},easeOutElastic:function(m,j,o,i,n){var m=1.70158,l=0,k=i;if(0==j){return o;}if(1==(j/=n)){return o+i;}l||(l=0.3*n);k<Math.abs(i)?(k=i,m=l/4):m=l/(2*Math.PI)*Math.asin(i/k);return k*Math.pow(2,-10*j)*Math.sin((j*n-m)*2*Math.PI/l)+i+o;},easeInOutElastic:function(m,j,o,i,n){var m=1.70158,l=0,k=i;if(0==j){return o;}if(2==(j/=n/2)){return o+i;}l||(l=n*0.3*1.5);k<Math.abs(i)?(k=i,m=l/4):m=l/(2*Math.PI)*Math.asin(i/k);return 1>j?-0.5*k*Math.pow(2,10*(j-=1))*Math.sin((j*n-m)*2*Math.PI/l)+o:0.5*k*Math.pow(2,-10*(j-=1))*Math.sin((j*n-m)*2*Math.PI/l)+i+o;},easeInBack:function(k,i,m,g,l,j){void 0==j&&(j=1.70158);return g*(i/=l)*i*((j+1)*i-j)+m;},easeOutBack:function(k,i,m,g,l,j){void 0==j&&(j=1.70158);return g*((i=i/l-1)*i*((j+1)*i+j)+1)+m;},easeInOutBack:function(k,i,m,g,l,j){void 0==j&&(j=1.70158);return 1>(i/=l/2)?g/2*i*i*(((j*=1.525)+1)*i-j)+m:g/2*((i-=2)*i*(((j*=1.525)+1)*i+j)+2)+m;},easeInBounce:function(i,g,k,f,j){return f-jQuery.easing.easeOutBounce(i,j-g,0,f,j)+k;},easeOutBounce:function(i,g,k,f,j){return(g/=j)<1/2.75?f*7.5625*g*g+k:g<2/2.75?f*(7.5625*(g-=1.5/2.75)*g+0.75)+k:g<2.5/2.75?f*(7.5625*(g-=2.25/2.75)*g+0.9375)+k:f*(7.5625*(g-=2.625/2.75)*g+0.984375)+k;},easeInOutBounce:function(i,g,k,f,j){return g<j/2?0.5*jQuery.easing.easeInBounce(i,2*g,0,f,j)+k:0.5*jQuery.easing.easeOutBounce(i,2*g-j,0,f,j)+0.5*f+k;}});jQuery.fn.extend({everyTime:function(i,f,g,e){return this.each(function(){jQuery.timer.add(this,i,f,g,e);});},oneTime:function(f,b,e){return this.each(function(){jQuery.timer.add(this,f,b,e,1);});},stopTime:function(d,b){return this.each(function(){jQuery.timer.remove(this,d,b);});}});jQuery.extend({timer:{global:[],guid:1,dataKey:"jQuery.timer",regex:/^([0-9]+(?:\.[0-9]*)?)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1000,das:10000,hs:100000,ks:1000000},timeParse:function(d){if(d==undefined||d==null){return null;}var b=this.regex.exec(jQuery.trim(d.toString()));return b[2]?parseFloat(b[1])*(this.powers[b[2]]||1):d;},add:function(p,j,o,i,n){var l=0;if(jQuery.isFunction(o)){n||(n=i);i=o;o=j;}j=jQuery.timer.timeParse(j);if(!(typeof j!="number"||isNaN(j)||j<0)){if(typeof n!="number"||isNaN(n)||n<0){n=0;}n=n||0;var m=jQuery.data(p,this.dataKey)||jQuery.data(p,this.dataKey,{});m[o]||(m[o]={});i.timerID=i.timerID||this.guid++;var k=function(){if(++l>n&&n!==0||i.call(p,l)===false){jQuery.timer.remove(p,o,i);}};k.timerID=i.timerID;m[o][i.timerID]||(m[o][i.timerID]=window.setInterval(k,j));this.global.push(p);}},remove:function(k,g,j){var f=jQuery.data(k,this.dataKey),i;if(f){if(g){if(f[g]){if(j){if(j.timerID){window.clearInterval(f[g][j.timerID]);delete f[g][j.timerID];}}else{for(j in f[g]){window.clearInterval(f[g][j]);delete f[g][j];}}for(i in f[g]){break;}if(!i){i=null;delete f[g];}}}else{for(g in f){this.remove(k,g,j);}}for(i in f){break;}i||jQuery.removeData(k,this.dataKey);}}}});jQuery(window).bind("unload",function(){jQuery.each(jQuery.timer.global,function(d,b){jQuery.timer.remove(b);});});
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Version: 3.0.6
 */
(function(d){var b=["DOMMouseScroll","mousewheel"];if(d.event.fixHooks){for(var a=b.length;a;){d.event.fixHooks[b[--a]]=d.event.mouseHooks;}}d.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var e=b.length;e;){this.addEventListener(b[--e],c,false);}}else{this.onmousewheel=c;}},teardown:function(){if(this.removeEventListener){for(var e=b.length;e;){this.removeEventListener(b[--e],c,false);}}else{this.onmousewheel=null;}}};d.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel");},unmousewheel:function(e){return this.unbind("mousewheel",e);}});function c(k){var i=k||window.event,g=[].slice.call(arguments,1),l=0,j=true,f=0,e=0;k=d.event.fix(i);k.type="mousewheel";if(i.wheelDelta){l=i.wheelDelta/120;}if(i.detail){l=-i.detail/3;}e=l;if(i.axis!==undefined&&i.axis===i.HORIZONTAL_AXIS){e=0;f=-1*l;}if(i.wheelDeltaY!==undefined){e=i.wheelDeltaY/120;}if(i.wheelDeltaX!==undefined){f=-1*i.wheelDeltaX/120;}g.unshift(k,l,f,e);return(d.event.dispatch||d.event.handle).apply(this,g);}})(jQuery);(function(d,e,f){d.fn.jScrollPane=function(a){function b(br,bb){var bk,a9=this,a1,bF,aK,bD,a6,a0,s,aO,bi,bS,bs,aW,bh,aX,aV,bO,a5,bz,a2,aM,bw,by,bJ,bC,bl,aT,bu,bm,aI,bq,bP,aZ,be,bG=true,ba=true,bQ=false,aU=false,bA=br.clone(false,false).empty(),bM=d.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";bP=br.css("paddingTop")+" "+br.css("paddingRight")+" "+br.css("paddingBottom")+" "+br.css("paddingLeft");aZ=(parseInt(br.css("paddingLeft"),10)||0)+(parseInt(br.css("paddingRight"),10)||0);function bx(j){var o,m,n,g,i,k,l=false,p=false;bk=j;if(a1===f){i=br.scrollTop();k=br.scrollLeft();br.css({overflow:"hidden",padding:0});bF=br.innerWidth()+aZ;aK=br.innerHeight();br.width(bF);a1=d('<div class="jspPane" />').css("padding",bP).append(br.children());bD=d('<div class="jspContainer" />').css({width:bF+"px",height:aK+"px"}).append(a1).appendTo(br);}else{br.css("width","");l=bk.stickToBottom&&bf();p=bk.stickToRight&&bv();g=br.innerWidth()+aZ!=bF||br.outerHeight()!=aK;if(g){bF=br.innerWidth()+aZ;aK=br.innerHeight();bD.css({width:bF+"px",height:aK+"px"});}if(!g&&be==a6&&a1.outerHeight()==a0){br.width(bF);return;}be=a6;a1.css("width","");br.width(bF);bD.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end();}a1.css("overflow","auto");if(j.contentWidth){a6=j.contentWidth;}else{a6=a1[0].scrollWidth;}a0=a1[0].scrollHeight;a1.css("overflow","");s=a6/bF;aO=a0/aK;bi=aO>1;bS=s>1;if(!(bS||bi)){br.removeClass("jspScrollable");a1.css({top:0,width:bD.width()-aZ});aR();bp();a8();aJ();}else{br.addClass("jspScrollable");o=bk.maintainPosition&&(bh||bO);if(o){m=bU();n=bW();}bR();c();bn();if(o){bc(p?(a6-bF):m,false);bd(l?(a0-aK):n,false);}bg();bI();bB();if(bk.enableKeyboardNavigation){a7();}if(bk.clickOnTrack){aP();}bt();if(bk.hijackInternalLinks){aS();}}if(bk.autoReinitialise&&!bq){bq=setInterval(function(){bx(bk);},bk.autoReinitialiseDelay);}else{if(!bk.autoReinitialise&&bq){clearInterval(bq);}}i&&br.scrollTop(0)&&bd(i,false);k&&br.scrollLeft(0)&&bc(k,false);br.trigger("jsp-initialised",[bS||bi]);}function bR(){if(bi){bD.append(d('<div class="jspVerticalBar" />').append(d('<div class="jspCap jspCapTop" />'),d('<div class="jspTrack" />').append(d('<div class="jspDrag" />').append(d('<div class="jspDragTop" />'),d('<div class="jspDragBottom" />'))),d('<div class="jspCap jspCapBottom" />')));a5=bD.find(">.jspVerticalBar");bz=a5.find(">.jspTrack");bs=bz.find(">.jspDrag");if(bk.showArrows){by=d('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",bT(0,-1)).bind("click.jsp",bV);bJ=d('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",bT(0,1)).bind("click.jsp",bV);if(bk.arrowScrollOnHover){by.bind("mouseover.jsp",bT(0,-1,by));bJ.bind("mouseover.jsp",bT(0,1,bJ));}bE(bz,bk.verticalArrowPositions,by,bJ);}aM=aK;bD.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){aM-=d(this).outerHeight();});bs.hover(function(){bs.addClass("jspHover");},function(){bs.removeClass("jspHover");}).bind("mousedown.jsp",function(i){d("html").bind("dragstart.jsp selectstart.jsp",bV);bs.addClass("jspActive");var g=i.pageY-bs.position().top;d("html").bind("mousemove.jsp",function(j){a4(j.pageY-g,false);}).bind("mouseup.jsp mouseleave.jsp",bo);return false;});aQ();}}function aQ(){bz.height(aM+"px");bh=0;a2=bk.verticalGutter+bz.outerWidth();a1.width(bF-a2-aZ);try{if(a5.position().left===0){a1.css("margin-left",a2+"px");}}catch(g){}}function c(){if(bS){bD.append(d('<div class="jspHorizontalBar" />').append(d('<div class="jspCap jspCapLeft" />'),d('<div class="jspTrack" />').append(d('<div class="jspDrag" />').append(d('<div class="jspDragLeft" />'),d('<div class="jspDragRight" />'))),d('<div class="jspCap jspCapRight" />')));bC=bD.find(">.jspHorizontalBar");bl=bC.find(">.jspTrack");aX=bl.find(">.jspDrag");if(bk.showArrows){bm=d('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",bT(-1,0)).bind("click.jsp",bV);aI=d('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",bT(1,0)).bind("click.jsp",bV);if(bk.arrowScrollOnHover){bm.bind("mouseover.jsp",bT(-1,0,bm));aI.bind("mouseover.jsp",bT(1,0,aI));}bE(bl,bk.horizontalArrowPositions,bm,aI);}aX.hover(function(){aX.addClass("jspHover");},function(){aX.removeClass("jspHover");}).bind("mousedown.jsp",function(i){d("html").bind("dragstart.jsp selectstart.jsp",bV);aX.addClass("jspActive");var g=i.pageX-aX.position().left;d("html").bind("mousemove.jsp",function(j){a3(j.pageX-g,false);}).bind("mouseup.jsp mouseleave.jsp",bo);return false;});aT=bD.innerWidth();bH();}}function bH(){bD.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){aT-=d(this).outerWidth();});bl.width(aT+"px");bO=0;}function bn(){if(bS&&bi){var i=bl.outerHeight(),g=bz.outerWidth();aM-=i;d(bC).find(">.jspCap:visible,>.jspArrow").each(function(){aT+=d(this).outerWidth();});aT-=g;aK-=g;bF-=i;bl.parent().append(d('<div class="jspCorner" />').css("width",i+"px"));aQ();bH();}if(bS){a1.width((bD.outerWidth()-aZ)+"px");}a0=a1.outerHeight();aO=a0/aK;if(bS){bu=Math.ceil(1/s*aT);if(bu>bk.horizontalDragMaxWidth){bu=bk.horizontalDragMaxWidth;}else{if(bu<bk.horizontalDragMinWidth){bu=bk.horizontalDragMinWidth;}}aX.width(bu+"px");aV=aT-bu;bK(bO);}if(bi){bw=Math.ceil(1/aO*aM);if(bw>bk.verticalDragMaxHeight){bw=bk.verticalDragMaxHeight;}else{if(bw<bk.verticalDragMinHeight){bw=bk.verticalDragMinHeight;}}bs.height(bw+"px");aW=aM-bw;bL(bh);}}function bE(m,k,n,i){var g="before",l="after",j;if(k=="os"){k=/Mac/.test(navigator.platform)?"after":"split";}if(k==g){l=k;}else{if(k==l){g=k;j=n;n=i;i=j;}}m[g](n)[l](i);}function bT(j,g,i){return function(){bj(j,g,this,i);this.blur();return false;};}function bj(l,m,g,j){g=d(g).addClass("jspActive");var k,n,o=true,i=function(){if(l!==0){a9.scrollByX(l*bk.arrowButtonSpeed);}if(m!==0){a9.scrollByY(m*bk.arrowButtonSpeed);}n=setTimeout(i,o?bk.initialDelay:bk.arrowRepeatFreq);o=false;};i();k=j?"mouseout.jsp":"mouseup.jsp";j=j||d("html");j.bind(k,function(){g.removeClass("jspActive");n&&clearTimeout(n);n=null;j.unbind(k);});}function aP(){aJ();if(bi){bz.bind("mousedown.jsp",function(j){if(j.originalTarget===f||j.originalTarget==j.currentTarget){var l=d(this),g=l.offset(),k=j.pageY-g.top-bh,n,o=true,i=function(){var q=l.offset(),p=j.pageY-q.top-bw/2,t=aK*bk.scrollPagePercent,r=aW*t/(a0-aK);if(k<0){if(bh-r>p){a9.scrollByY(-t);}else{a4(p);}}else{if(k>0){if(bh+r<p){a9.scrollByY(t);}else{a4(p);}}else{m();return;}}n=setTimeout(i,o?bk.initialDelay:bk.trackClickRepeatFreq);o=false;},m=function(){n&&clearTimeout(n);n=null;d(document).unbind("mouseup.jsp",m);};i();d(document).bind("mouseup.jsp",m);return false;}});}if(bS){bl.bind("mousedown.jsp",function(j){if(j.originalTarget===f||j.originalTarget==j.currentTarget){var l=d(this),g=l.offset(),k=j.pageX-g.left-bO,n,o=true,i=function(){var q=l.offset(),p=j.pageX-q.left-bu/2,t=bF*bk.scrollPagePercent,r=aV*t/(a6-bF);if(k<0){if(bO-r>p){a9.scrollByX(-t);}else{a3(p);}}else{if(k>0){if(bO+r<p){a9.scrollByX(t);}else{a3(p);}}else{m();return;}}n=setTimeout(i,o?bk.initialDelay:bk.trackClickRepeatFreq);o=false;},m=function(){n&&clearTimeout(n);n=null;d(document).unbind("mouseup.jsp",m);};i();d(document).bind("mouseup.jsp",m);return false;}});}}function aJ(){if(bl){bl.unbind("mousedown.jsp");}if(bz){bz.unbind("mousedown.jsp");}}function bo(){d("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");if(bs){bs.removeClass("jspActive");}if(aX){aX.removeClass("jspActive");}}function a4(g,i){if(!bi){return;}if(g<0){g=0;}else{if(g>aW){g=aW;}}if(i===f){i=bk.animateScroll;}if(i){a9.animate(bs,"top",g,bL);}else{bs.css("top",g);bL(g);}}function bL(l){if(l===f){l=bs.position().top;}bD.scrollTop(0);bh=l;var i=bh===0,k=bh==aW,j=l/aW,g=-j*(a0-aK);if(bG!=i||bQ!=k){bG=i;bQ=k;br.trigger("jsp-arrow-change",[bG,bQ,ba,aU]);}aL(i,k);a1.css("top",g);br.trigger("jsp-scroll-y",[-g,i,k]).trigger("scroll");}function a3(i,g){if(!bS){return;}if(i<0){i=0;}else{if(i>aV){i=aV;}}if(g===f){g=bk.animateScroll;}if(g){a9.animate(aX,"left",i,bK);}else{aX.css("left",i);bK(i);}}function bK(l){if(l===f){l=aX.position().left;}bD.scrollTop(0);bO=l;var i=bO===0,j=bO==aV,k=l/aV,g=-k*(a6-bF);if(ba!=i||aU!=j){ba=i;aU=j;br.trigger("jsp-arrow-change",[bG,bQ,ba,aU]);}aN(i,j);a1.css("left",g);br.trigger("jsp-scroll-x",[-g,i,j]).trigger("scroll");}function aL(i,g){if(bk.showArrows){by[i?"addClass":"removeClass"]("jspDisabled");bJ[g?"addClass":"removeClass"]("jspDisabled");}}function aN(i,g){if(bk.showArrows){bm[i?"addClass":"removeClass"]("jspDisabled");aI[g?"addClass":"removeClass"]("jspDisabled");}}function bd(g,j){var i=g/(a0-aK);a4(i*aW,j);}function bc(j,g){var i=j/(a6-bF);a3(i*aV,g);}function bN(j,o,g){var r,v,u,x=0,k=0,i,p,q,m,n,l;try{r=d(j);}catch(t){return;}v=r.outerHeight();u=r.outerWidth();bD.scrollTop(0);bD.scrollLeft(0);while(!r.is(".jspPane")){x+=r.position().top;k+=r.position().left;r=r.offsetParent();if(/^body|html$/i.test(r[0].nodeName)){return;}}i=bW();q=i+aK;if(x<i||o){n=x-bk.verticalGutter;}else{if(x+v>q){n=x-aK+v+bk.verticalGutter;}}if(n){bd(n,g);}p=bU();m=p+bF;if(k<p||o){l=k-bk.horizontalGutter;}else{if(k+u>m){l=k-bF+u+bk.horizontalGutter;}}if(l){bc(l,g);}}function bU(){return -a1.position().left;}function bW(){return -a1.position().top;}function bf(){var g=a0-aK;return(g>20)&&(g-bW()<10);}function bv(){var g=a6-bF;return(g>20)&&(g-bU()<10);}function bI(){bD.unbind(bM).bind(bM,function(j,i,k,m){var l=bO,g=bh;a9.scrollBy(k*bk.mouseWheelSpeed,-m*bk.mouseWheelSpeed,false);return l==bO&&g==bh;});}function aR(){bD.unbind(bM);}function bV(){return false;}function bg(){a1.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(g){bN(g.target,false);});}function bp(){a1.find(":input,a").unbind("focus.jsp");}function a7(){var g,k,i=[];bS&&i.push(bC[0]);bi&&i.push(a5[0]);a1.focus(function(){br.focus();});br.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(l){if(l.target!==this&&!(i.length&&d(l.target).closest(i).length)){return;}var m=bO,n=bh;switch(l.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:g=l.keyCode;j();break;case 35:bd(a0-aK);g=null;break;case 36:bd(0);g=null;break;}k=l.keyCode==g&&m!=bO||n!=bh;return !k;}).bind("keypress.jsp",function(l){if(l.keyCode==g){j();}return !k;});if(bk.hideFocus){br.css("outline","none");if("hideFocus" in bD[0]){br.attr("hideFocus",true);}}else{br.css("outline","");if("hideFocus" in bD[0]){br.attr("hideFocus",false);}}function j(){var l=bO,m=bh;switch(g){case 40:a9.scrollByY(bk.keyboardSpeed,false);break;case 38:a9.scrollByY(-bk.keyboardSpeed,false);break;case 34:case 32:a9.scrollByY(aK*bk.scrollPagePercent,false);break;case 33:a9.scrollByY(-aK*bk.scrollPagePercent,false);break;case 39:a9.scrollByX(bk.keyboardSpeed,false);break;case 37:a9.scrollByX(-bk.keyboardSpeed,false);break;}k=l!=bO||m!=bh;return k;}}function a8(){br.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp");}function bt(){if(location.hash&&location.hash.length>1){var i,k,j=escape(location.hash.substr(1));try{i=d("#"+j+', a[name="'+j+'"]');}catch(g){return;}if(i.length&&a1.find(j)){if(bD.scrollTop()===0){k=setInterval(function(){if(bD.scrollTop()>0){bN(i,true);d(document).scrollTop(bD.position().top);clearInterval(k);}},50);}else{bN(i,true);d(document).scrollTop(bD.position().top);}}}}function aS(){if(d(document.body).data("jspHijack")){return;}d(document.body).data("jspHijack",true);d(document.body).delegate("a[href*=#]","click",function(q){var i=this.href.substr(0,this.href.indexOf("#")),p=location.href,l,k,g,n,o,m;if(location.href.indexOf("#")!==-1){p=location.href.substr(0,location.href.indexOf("#"));}if(i!==p){return;}l=escape(this.href.substr(this.href.indexOf("#")+1));k;try{k=d("#"+l+', a[name="'+l+'"]');}catch(j){return;}if(!k.length){return;}g=k.closest(".jspScrollable");n=g.data("jsp");n.scrollToElement(k,true);if(g[0].scrollIntoView){o=d(e).scrollTop();m=k.offset().top;if(m<o||m>o+d(e).height()){g[0].scrollIntoView();}}q.preventDefault();});}function bB(){var l,m,j,k,i,g=false;bD.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(o){var n=o.originalEvent.touches[0];l=bU();m=bW();j=n.pageX;k=n.pageY;i=false;g=true;}).bind("touchmove.jsp",function(n){if(!g){return;}var o=n.originalEvent.touches[0],p=bO,q=bh;a9.scrollTo(l+j-o.pageX,m+k-o.pageY);i=i||Math.abs(j-o.pageX)>5||Math.abs(k-o.pageY)>5;return p==bO&&q==bh;}).bind("touchend.jsp",function(n){g=false;}).bind("click.jsp-touchclick",function(n){if(i){i=false;return false;}});}function aY(){var g=bW(),i=bU();br.removeClass("jspScrollable").unbind(".jsp");br.replaceWith(bA.append(a1.children()));bA.scrollTop(g);bA.scrollLeft(i);if(bq){clearInterval(bq);}}d.extend(a9,{reinitialise:function(g){g=d.extend({},bk,g);bx(g);},scrollToElement:function(i,j,g){bN(i,j,g);},scrollTo:function(i,g,j){bc(i,j);bd(g,j);},scrollToX:function(i,g){bc(i,g);},scrollToY:function(g,i){bd(g,i);},scrollToPercentX:function(i,g){bc(i*(a6-bF),g);},scrollToPercentY:function(i,g){bd(i*(a0-aK),g);},scrollBy:function(j,g,i){a9.scrollByX(j,i);a9.scrollByY(g,i);},scrollByX:function(g,j){var k=bU()+Math[g<0?"floor":"ceil"](g),i=k/(a6-bF);a3(i*aV,j);},scrollByY:function(g,j){var k=bW()+Math[g<0?"floor":"ceil"](g),i=k/(a0-aK);a4(i*aW,j);},positionDragX:function(g,i){a3(g,i);},positionDragY:function(i,g){a4(i,g);},animate:function(l,i,g,j){var k={};k[i]=g;l.animate(k,{duration:bk.animateDuration,easing:bk.animateEase,queue:false,step:j});},getContentPositionX:function(){return bU();},getContentPositionY:function(){return bW();},getContentWidth:function(){return a6;},getContentHeight:function(){return a0;},getPercentScrolledX:function(){return bU()/(a6-bF);},getPercentScrolledY:function(){return bW()/(a0-aK);},getIsScrollableH:function(){return bS;},getIsScrollableV:function(){return bi;},getContentPane:function(){return a1;},scrollToBottom:function(g){a4(aW,g);},hijackInternalLinks:d.noop,destroy:function(){aY();}});bx(bb);}a=d.extend({},d.fn.jScrollPane.defaults,a);d.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){a[this]=a[this]||a.speed;});return this.each(function(){var i=d(this),c=i.data("jsp");if(c){c.reinitialise(a);}else{d("script",i).filter('[type="text/javascript"],:not([type])').remove();c=new b(i,a);i.data("jsp",c);}});};d.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,stickToBottom:false,stickToRight:false,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:f,animateScroll:false,animateDuration:300,animateEase:"linear",hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8};})(jQuery,this);
/*!
 * jQuery Tools v1.2.7 - The missing UI library for the Web
 *
 * overlay/overlay.js
 * overlay/overlay.apple.js
 * tooltip/tooltip.js
 * tooltip/tooltip.dynamic.js
 * tooltip/tooltip.slide.js
 *
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 *
 * http://flowplayer.org/tools/
 *
 */
(function(f){f.tools=f.tools||{version:"v1.2.7"},f.tools.overlay={addEffect:function(j,c,k){i[j]=[c,k];},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!f.browser.msie||f.browser.version>6,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var e=[],i={};f.tools.overlay.addEffect("default",function(a,l){var k=this.getConf(),j=f(window);k.fixed||(a.top+=j.scrollTop(),a.left+=j.scrollLeft()),a.position=k.fixed?"fixed":"absolute",this.getOverlay().css(a).fadeIn(k.speed,l);},function(b){this.getOverlay().fadeOut(this.getConf().closeSpeed,b);});function g(v,u){var t=this,s=v.add(t),r=f(window),q,p,o,c=f.tools.expose&&(u.mask||u.expose),b=Math.random().toString().slice(10);c&&(typeof c=="string"&&(c={color:c}),c.closeOnClick=c.closeOnEsc=!1);var a=u.target||v.attr("rel");p=a?f(a):null||v;if(!p.length){throw"Could not find Overlay: "+a;}v&&v.index(p)==-1&&v.click(function(d){t.load(d);return d.preventDefault();}),f.extend(t,{load:function(x){if(t.isOpened()){return t;}var j=i[u.effect];if(!j){throw'Overlay: cannot find effect : "'+u.effect+'"';}u.oneInstance&&f.each(e,function(){this.close(x);}),x=x||f.Event(),x.type="onBeforeLoad",s.trigger(x);if(x.isDefaultPrevented()){return t;}o=!0,c&&f(p).expose(c);var y=u.top,m=u.left,l=p.outerWidth({margin:!0}),k=p.outerHeight({margin:!0});typeof y=="string"&&(y=y=="center"?Math.max((r.height()-k)/2,0):parseInt(y,10)/100*r.height()),m=="center"&&(m=Math.max((r.width()-l)/2,0)),j[0].call(t,{top:y,left:m},function(){o&&(x.type="onLoad",s.trigger(x));}),c&&u.closeOnClick&&f.mask.getMask().one("click",t.close),u.closeOnClick&&f(document).on("click."+b,function(d){f(d.target).parents(p).length||t.close(d);}),u.closeOnEsc&&f(document).on("keydown."+b,function(d){d.keyCode==27&&t.close(d);});return t;},close:function(d){if(!t.isOpened()){return t;}d=d||f.Event(),d.type="onBeforeClose",s.trigger(d);if(!d.isDefaultPrevented()){o=!1,i[u.effect][1].call(t,function(){d.type="onClose",s.trigger(d);}),f(document).off("click."+b+" keydown."+b),c&&f.mask.close();return t;}},getOverlay:function(){return p;},getTrigger:function(){return v;},getClosers:function(){return q;},isOpened:function(){return o;},getConf:function(){return u;}}),f.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(d,j){f.isFunction(u[j])&&f(t).on(j,u[j]),t[j]=function(k){k&&f(t).on(j,k);return t;};}),q=p.find(u.close||".close"),!q.length&&!u.close&&(q=f('<a class="close"></a>'),p.prepend(q)),q.click(function(d){t.close(d);}),u.load&&t.load();}f.fn.overlay=function(b){var a=this.data("overlay");if(a){return a;}f.isFunction(b)&&(b={onBeforeLoad:b}),b=f.extend(!0,{},f.tools.overlay.conf,b),this.each(function(){a=new g(f(this),b),e.push(a),f(this).data("overlay",a);});return b.api?a:this;};})(jQuery);(function(i){var g=i.tools.overlay,m=i(window);i.extend(g.conf,{start:{top:null,left:null},fadeInSpeed:"fast",zIndex:9999});function l(d){var c=d.offset();return{top:c.top+d.height()/2,left:c.left+d.width()/2};}var k=function(A,z){var y=this.getOverlay(),x=this.getConf(),v=this.getTrigger(),u=this,t=y.outerWidth({margin:!0}),s=y.data("img"),r=x.fixed?"fixed":"absolute";if(!s){var q=y.css("backgroundImage");if(!q){throw"background-image CSS property not set for overlay";}q=q.slice(q.indexOf("(")+1,q.indexOf(")")).replace(/\"/g,""),y.css("backgroundImage","none"),s=i('<img src="'+q+'"/>'),s.css({border:0,display:"none"}).width(t),i("body").append(s),y.data("img",s);}var d=x.start.top||Math.round(m.height()/2),c=x.start.left||Math.round(m.width()/2);if(v){var a=l(v);d=a.top,c=a.left;}x.fixed?(d-=m.scrollTop(),c-=m.scrollLeft()):(A.top+=m.scrollTop(),A.left+=m.scrollLeft()),s.css({position:"absolute",top:d,left:c,width:0,zIndex:x.zIndex}).show(),A.position=r,y.css(A),s.animate({top:A.top,left:A.left,width:t},x.speed,function(){y.css("zIndex",x.zIndex+1).fadeIn(x.fadeInSpeed,function(){u.isOpened()&&!i(this).index(y)?z.call():y.hide();});}).css("position",r);},j=function(a){var p=this.getOverlay().hide(),o=this.getConf(),n=this.getTrigger(),d=p.data("img"),c={top:o.start.top,left:o.start.left,width:0};n&&i.extend(c,l(n)),o.fixed&&d.css({position:"absolute"}).animate({top:"+="+m.scrollTop(),left:"+="+m.scrollLeft()},0),d.animate(c,o.closeSpeed,a);};g.addEffect("apple",k,j);})(jQuery);(function(f){f.tools=f.tools||{version:"v1.2.7"},f.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(b,k,j){e[b]=[k,j];}};var e={toggle:[function(k){var j=this.getConf(),m=this.getTip(),l=j.opacity;l<1&&m.css({opacity:l}),m.show(),k.call();},function(b){this.getTip().hide(),b.call();}],fade:[function(a){var d=this.getConf();!f.browser.msie||d.fadeIE?this.getTip().fadeTo(d.fadeInSpeed,d.opacity,a):(this.getTip().show(),a());},function(a){var d=this.getConf();!f.browser.msie||d.fadeIE?this.getTip().fadeOut(d.fadeOutSpeed,a):(this.getTip().hide(),a());}]};function i(a,p,o){var n=o.relative?a.position().top:a.offset().top,m=o.relative?a.position().left:a.offset().left,l=o.position[0];n-=p.outerHeight()-o.offset[0],m+=a.outerWidth()+o.offset[1],/iPad/i.test(navigator.userAgent)&&(n-=f(window).scrollTop());var k=p.outerHeight()+a.outerHeight();l=="center"&&(n+=k/2),l=="bottom"&&(n+=k),l=o.position[1];var j=p.outerWidth()+a.outerWidth();l=="center"&&(m-=j/2),l=="left"&&(m-=j);return{top:n,left:m};}function g(E,D){var C=this,B=E.add(C),A,z=0,y=0,x=E.attr("title"),v=E.attr("data-tooltip"),u=e[D.effect],t,s=E.is(":input"),c=s&&E.is(":checkbox, :radio, select, :button, :submit"),b=E.attr("type"),a=D.events[b]||D.events[s?c?"widget":"input":"def"];if(!u){throw'Nonexistent effect "'+D.effect+'"';}a=a.split(/,\s*/);if(a.length!=2){throw"Tooltip: bad events configuration for "+b;}E.on(a[0],function(d){clearTimeout(z),D.predelay?y=setTimeout(function(){C.show(d);},D.predelay):C.show(d);}).on(a[1],function(d){clearTimeout(y),D.delay?z=setTimeout(function(){C.hide(d);},D.delay):C.hide(d);}),x&&D.cancelDefault&&(E.removeAttr("title"),E.data("title",x)),f.extend(C,{show:function(d){if(!A){v?A=f(v):D.tip?A=f(D.tip).eq(0):x?A=f(D.layout).addClass(D.tipClass).appendTo(document.body).hide().append(x):(A=E.next(),A.length||(A=E.parent().next()));if(!A.length){throw"Cannot find tooltip for "+E;}}if(C.isShown()){return C;}A.stop(!0,!0);var k=i(E,A,D);D.tip&&A.html(E.data("title")),d=f.Event(),d.type="onBeforeShow",B.trigger(d,[k]);if(d.isDefaultPrevented()){return C;}k=i(E,A,D),A.css({position:"absolute",top:k.top,left:k.left}),t=!0,u[0].call(C,function(){d.type="onShow",t="full",B.trigger(d);});var j=D.events.tooltip.split(/,\s*/);A.data("__set")||(A.off(j[0]).on(j[0],function(){clearTimeout(z),clearTimeout(y);}),j[1]&&!E.is("input:not(:checkbox, :radio), textarea")&&A.off(j[1]).on(j[1],function(l){l.relatedTarget!=E[0]&&E.trigger(a[1].split(" ")[0]);}),D.tip||A.data("__set",!0));return C;},hide:function(d){if(!A||!C.isShown()){return C;}d=f.Event(),d.type="onBeforeHide",B.trigger(d);if(!d.isDefaultPrevented()){t=!1,e[D.effect][1].call(C,function(){d.type="onHide",B.trigger(d);});return C;}},isShown:function(d){return d?t=="full":t;},getConf:function(){return D;},getTip:function(){return A;},getTrigger:function(){return E;}}),f.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(d,j){f.isFunction(D[j])&&f(C).on(j,D[j]),C[j]=function(k){k&&f(C).on(j,k);return C;};});}f.fn.tooltip=function(a){var d=this.data("tooltip");if(d){return d;}a=f.extend(!0,{},f.tools.tooltip.conf,a),typeof a.position=="string"&&(a.position=a.position.split(/,?\s/)),this.each(function(){d=new g(f(this),a),f(this).data("tooltip",d);});return a.api?d:this;};})(jQuery);(function(f){var e=f.tools.tooltip;e.dynamic={conf:{classNames:"top right bottom left"}};function i(a){var l=f(window),k=l.width()+l.scrollLeft(),j=l.height()+l.scrollTop();return[a.offset().top<=l.scrollTop(),k<=a.offset().left+a.width(),j<=a.offset().top+a.height(),l.scrollLeft()>=a.offset().left];}function g(d){var c=d.length;while(c--){if(d[c]){return !1;}}return !0;}f.fn.dynamic=function(d){typeof d=="number"&&(d={speed:d}),d=f.extend({},e.dynamic.conf,d);var c=f.extend(!0,{},d),b=d.classNames.split(/\s/),a;this.each(function(){var j=f(this).tooltip().onBeforeShow(function(m,r){var q=this.getTip(),p=this.getConf();a||(a=[p.position[0],p.position[1],p.offset[0],p.offset[1],f.extend({},p)]),f.extend(p,a[4]),p.position=[a[0],a[1]],p.offset=[a[2],a[3]],q.css({visibility:"hidden",position:"absolute",top:r.top,left:r.left}).show();var o=f.extend(!0,{},c),n=i(q);if(!g(n)){n[2]&&(f.extend(p,o.top),p.position[0]="top",q.addClass(b[0])),n[3]&&(f.extend(p,o.right),p.position[1]="right",q.addClass(b[1])),n[0]&&(f.extend(p,o.bottom),p.position[0]="bottom",q.addClass(b[2])),n[1]&&(f.extend(p,o.left),p.position[1]="left",q.addClass(b[3]));if(n[0]||n[2]){p.offset[0]*=-1;}if(n[1]||n[3]){p.offset[1]*=-1;}}q.css({visibility:"visible"}).hide();});j.onBeforeShow(function(){var l=this.getConf(),k=this.getTip();setTimeout(function(){l.position=[a[0],a[1]],l.offset=[a[2],a[3]];},0);}),j.onHide(function(){var k=this.getTip();k.removeClass(d.classNames);}),ret=j;});return d.api?ret:this;};})(jQuery);(function(e){var d=e.tools.tooltip;e.extend(d.conf,{direction:"up",bounce:!1,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!e.browser.msie});var f={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};d.addEffect("slide",function(g){var c=this.getConf(),k=this.getTip(),j=c.slideFade?{opacity:c.opacity}:{},i=f[c.direction]||f.up;j[i[1]]=i[0]+"="+c.slideOffset,c.slideFade&&k.css({opacity:0}),k.show().animate(j,c.slideInSpeed,g);},function(a){var l=this.getConf(),k=l.slideOffset,j=l.slideFade?{opacity:0}:{},i=f[l.direction]||f.up,c=""+i[0];l.bounce&&(c=c=="+"?"-":"+"),j[i[1]]=c+"="+k,this.getTip().animate(j,l.slideOutSpeed,function(){e(this).hide(),a.call();});});})(jQuery);
/*! fancyBox v2.1.0 fancyapps.com | fancyapps.com/fancybox/#license */
(function(B,d,l,c){var e=l(B),g=l(d),t=l.fancybox=function(){t.open.apply(this,arguments);},r=null,i=d.createTouch!==c,y=function(b){return b&&b.hasOwnProperty&&b instanceof l;},D=function(b){return b&&"string"===l.type(b);},a=function(b){return D(b)&&0<b.indexOf("%");},j=function(b,k){var f=parseInt(b,10);k&&a(b)&&(f*=t.getViewport()[k]/100);return Math.ceil(f);},A=function(k,f){return j(k,f)+"px";};l.extend(t,{version:"2.1.0",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!i,autoCenter:!i,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3000,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0"'+(l.browser.msie?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{closeClick:!0,speedOut:200,showEarly:!0,css:{}},title:{type:"float"}},onCancel:l.noop,beforeLoad:l.noop,afterLoad:l.noop,beforeShow:l.noop,afterShow:l.noop,beforeChange:l.noop,beforeClose:l.noop,afterClose:l.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(b,f){if(b&&(l.isPlainObject(f)||(f={}),!1!==t.close(!0))){return l.isArray(b)||(b=y(b)?l(b).get():[b]),l.each(b,function(u,v){var o={},s,q,p,m,n;"object"===l.type(v)&&(v.nodeType&&(v=l(v)),y(v)?(o={href:v.attr("href"),title:v.attr("title"),isDom:!0,element:v},l.metadata&&l.extend(!0,o,v.metadata())):o=v);s=f.href||o.href||(D(v)?v:null);q=f.title!==c?f.title:o.title||"";m=(p=f.content||o.content)?"html":f.type||o.type;!m&&o.isDom&&(m=v.data("fancybox-type"),m||(m=(m=v.prop("class").match(/fancybox\.(\w+)/))?m[1]:null));if(D(s)&&(m||(t.isImage(s)?m="image":t.isSWF(s)?m="swf":"#"===s.charAt(0)?m="inline":D(v)&&(m="html",p=v)),"ajax"===m)){n=s.split(/\s+/,2),s=n.shift(),n=n.shift();}p||("inline"===m?s?p=l(D(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):o.isDom&&(p=v):"html"===m?p=s:!m&&(!s&&o.isDom)&&(m="inline",p=v));l.extend(o,{href:s,type:m,content:p,title:q,selector:n});b[u]=o;}),t.opts=l.extend(!0,{},t.defaults,f),f.keys!==c&&(t.opts.keys=f.keys?l.extend({},t.defaults.keys,f.keys):!1),t.group=b,t._start(t.opts.index);}},cancel:function(){var b=t.coming;b&&!1!==t.trigger("onCancel")&&(t.hideLoading(),t.ajaxLoad&&t.ajaxLoad.abort(),t.ajaxLoad=null,t.imgPreload&&(t.imgPreload.onload=t.imgPreload.onerror=null),b.wrap&&b.wrap.stop(!0).trigger("onReset").remove(),t.current||t.trigger("afterClose"),t.coming=null);},close:function(b){t.cancel();!1!==t.trigger("beforeClose")&&(t.unbindEvents(),!t.isOpen||!0===b?(l(".fancybox-wrap").stop(!0).trigger("onReset").remove(),t._afterZoomOut()):(t.isOpen=t.isOpened=!1,t.isClosing=!0,l(".fancybox-item, .fancybox-nav").remove(),t.wrap.stop(!0,!0).removeClass("fancybox-opened"),"fixed"===t.wrap.css("position")&&t.wrap.css(t._getPosition(!0)),t.transitions[t.current.closeMethod]()));},play:function(b){var m=function(){clearTimeout(t.player.timer);},f=function(){m();t.current&&t.player.isActive&&(t.player.timer=setTimeout(t.next,t.current.playSpeed));},k=function(){m();l("body").unbind(".player");t.player.isActive=!1;t.trigger("onPlayEnd");};if(!0===b||!t.player.isActive&&!1!==b){if(t.current&&(t.current.loop||t.current.index<t.group.length-1)){t.player.isActive=!0,l("body").bind({"afterShow.player onUpdate.player":f,"onCancel.player beforeClose.player":k,"beforeLoad.player":m}),f(),t.trigger("onPlayStart");}}else{k();}},next:function(b){var f=t.current;f&&(D(b)||(b=f.direction.next),t.jumpto(f.index+1,b,"next"));},prev:function(b){var f=t.current;f&&(D(b)||(b=f.direction.prev),t.jumpto(f.index-1,b,"prev"));},jumpto:function(b,m,f){var k=t.current;if(k&&(b=j(b),t.direction=m||k.direction[b>=k.index?"next":"prev"],t.router=f||"jumpto",k.loop&&(0>b&&(b=k.group.length+b%k.group.length),b%=k.group.length),k.group[b]!==c)){t.cancel(),t._start(b);}},reposition:function(b,k){var f;t.isOpen&&(f=t._getPosition(k),b&&"scroll"===b.type?(delete f.position,t.wrap.stop(!0,!0).animate(f,200)):t.wrap.css(f));},update:function(b){var k=b&&b.type,f=!k||"orientationchange"===k;f&&(clearTimeout(r),r=null);if(t.isOpen&&!r){if(f||i){t.wrap.removeAttr("style").addClass("fancybox-tmp"),t.trigger("onUpdate");}r=setTimeout(function(){var m=t.current;if(m){t.wrap.removeClass("fancybox-tmp");k!=="scroll"&&t._setDimension();k==="scroll"&&m.canShrink||t.reposition(b);t.trigger("onUpdate");r=null;}},i?500:f?20:300);}},toggle:function(b){t.isOpen&&(t.current.fitToView="boolean"===l.type(b)?b:!t.current.fitToView,t.update());},hideLoading:function(){g.unbind("keypress.fb");l("#fancybox-loading").remove();},showLoading:function(){var b,f;t.hideLoading();g.bind("keypress.fb",function(k){if(27===(k.which||k.keyCode)){k.preventDefault(),t.cancel();}});b=l('<div id="fancybox-loading"><div></div></div>').click(t.cancel).appendTo("body");t.defaults.fixed||(f=t.getViewport(),b.css({position:"absolute",top:0.5*f.h+f.y,left:0.5*f.w+f.x}));},getViewport:function(){var b=t.current?t.current.locked:!1,f={x:e.scrollLeft(),y:e.scrollTop()};b?(f.w=b[0].clientWidth,f.h=b[0].clientHeight):(f.w=i&&B.innerWidth?B.innerWidth:e.width(),f.h=i&&B.innerHeight?B.innerHeight:e.height());return f;},unbindEvents:function(){t.wrap&&y(t.wrap)&&t.wrap.unbind(".fb");g.unbind(".fb");e.unbind(".fb");},bindEvents:function(){var b=t.current,f;b&&(e.bind("orientationchange.fb"+(i?"":" resize.fb")+(b.autoCenter&&!b.locked?" scroll.fb":""),t.update),(f=b.keys)&&g.bind("keydown.fb",function(m){var n=m.which||m.keyCode,k=m.target||m.srcElement;!m.ctrlKey&&(!m.altKey&&!m.shiftKey&&!m.metaKey&&(!k||!k.type&&!l(k).is("[contenteditable]")))&&l.each(f,function(p,o){if(1<b.group.length&&o[n]!==c){return t[p](o[n]),m.preventDefault(),!1;}if(-1<l.inArray(n,o)){return t[p](),m.preventDefault(),!1;}});}),l.fn.mousewheel&&b.mouseWheel&&t.wrap.bind("mousewheel.fb",function(q,p,k,o){for(var n=l(q.target||null),m=!1;n.length&&!m&&!n.is(".fancybox-skin")&&!n.is(".fancybox-wrap");){m=n[0]&&!(n[0].style.overflow&&"hidden"===n[0].style.overflow)&&(n[0].clientWidth&&n[0].scrollWidth>n[0].clientWidth||n[0].clientHeight&&n[0].scrollHeight>n[0].clientHeight),n=l(n).parent();}if(0!==p&&!m&&1<t.group.length&&!b.canShrink){if(0<o||0<k){t.prev(0<o?"down":"left");}else{if(0>o||0>k){t.next(0>o?"up":"right");}}q.preventDefault();}}));},trigger:function(b,m){var f,k=m||t.coming||t.current;if(k){l.isFunction(k[b])&&(f=k[b].apply(k,Array.prototype.slice.call(arguments,1)));if(!1===f){return !1;}"onCancel"===b&&!t.isOpened&&(t.isActive=!1);k.helpers&&l.each(k.helpers,function(o,n){if(n&&t.helpers[o]&&l.isFunction(t.helpers[o][b])){t.helpers[o][b](n,k);}});l.event.trigger(b+".fb");}},isImage:function(b){return D(b)&&b.match(/\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$/i);},isSWF:function(b){return D(b)&&b.match(/\.(swf)((\?|#).*)?$/i);},_start:function(b){var m={},f,k,b=j(b);f=t.group[b]||null;if(!f){return !1;}m=l.extend(!0,{},t.opts,f);f=m.margin;k=m.padding;"number"===l.type(f)&&(m.margin=[f,f,f,f]);"number"===l.type(k)&&(m.padding=[k,k,k,k]);m.modal&&l.extend(!0,m,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});m.autoSize&&(m.autoWidth=m.autoHeight=!0);"auto"===m.width&&(m.autoWidth=!0);"auto"===m.height&&(m.autoHeight=!0);m.group=t.group;m.index=b;t.coming=m;if(!1===t.trigger("beforeLoad")){t.coming=null;}else{k=m.type;f=m.href;if(!k){return t.coming=null,t.current&&t.router&&"jumpto"!==t.router?(t.current.index=b,t[t.router](t.direction)):!1;}t.isActive=!0;if("image"===k||"swf"===k){m.autoHeight=m.autoWidth=!1,m.scrolling="visible";}"image"===k&&(m.aspectRatio=!0);"iframe"===k&&i&&(m.scrolling="scroll");m.wrap=l(m.tpl.wrap).addClass("fancybox-"+(i?"mobile":"desktop")+" fancybox-type-"+k+" fancybox-tmp "+m.wrapCSS).appendTo(m.parent);l.extend(m,{skin:l(".fancybox-skin",m.wrap),outer:l(".fancybox-outer",m.wrap),inner:l(".fancybox-inner",m.wrap)});l.each(["Top","Right","Bottom","Left"],function(o,n){m.skin.css("padding"+n,A(m.padding[o]));});t.trigger("onReady");if("inline"===k||"html"===k){if(!m.content||!m.content.length){return t._error("content");}}else{if(!f){return t._error("href");}}"image"===k?t._loadImage():"ajax"===k?t._loadAjax():"iframe"===k?t._loadIframe():t._afterLoad();}},_error:function(b){l.extend(t.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:b,content:t.coming.tpl.error});t._afterLoad();},_loadImage:function(){var b=t.imgPreload=new Image;b.onload=function(){this.onload=this.onerror=null;t.coming.width=this.width;t.coming.height=this.height;t._afterLoad();};b.onerror=function(){this.onload=this.onerror=null;t._error("image");};b.src=t.coming.href;(b.complete===c||!b.complete)&&t.showLoading();},_loadAjax:function(){var b=t.coming;t.showLoading();t.ajaxLoad=l.ajax(l.extend({},b.ajax,{url:b.href,error:function(f,k){t.coming&&"abort"!==k?t._error("ajax",f):t.hideLoading();},success:function(k,f){"success"===f&&(b.content=k,t._afterLoad());}}));},_loadIframe:function(){var b=t.coming,f=l(b.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",i?"auto":b.iframe.scrolling).attr("src",b.href);l(b.wrap).bind("onReset",function(){try{l(this).find("iframe").hide().attr("src","//about:blank").end().empty();}catch(k){}});b.iframe.preload&&(t.showLoading(),f.one("load",function(){l(this).data("ready",1);i||l(this).bind("load.fb",t.update);l(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();t._afterLoad();}));b.content=f.appendTo(b.inner);b.iframe.preload||t._afterLoad();},_preloadImages:function(){var b=t.group,p=t.current,n=b.length,o=p.preload?Math.min(p.preload,n-1):0,m,k;for(k=1;k<=o;k+=1){m=b[(p.index+k)%n],"image"===m.type&&m.href&&((new Image).src=m.href);}},_afterLoad:function(){var b=t.coming,p=t.current,n,o,f,m,k;t.hideLoading();if(b&&!1!==t.isActive){if(!1===t.trigger("afterLoad",b,p)){b.wrap.stop(!0).trigger("onReset").remove(),t.coming=null;}else{p&&(t.trigger("beforeChange",p),p.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove(),"fixed"===p.wrap.css("position")&&p.wrap.css(t._getPosition(!0)));t.unbindEvents();n=b.content;o=b.type;f=b.scrolling;l.extend(t,{wrap:b.wrap,skin:b.skin,outer:b.outer,inner:b.inner,current:b,previous:p});m=b.href;switch(o){case"inline":case"ajax":case"html":b.selector?n=l("<div>").html(n).find(b.selector):y(n)&&(n.data("fancybox-placeholder")||n.data("fancybox-placeholder",l('<div class="fancybox-placeholder"></div>').insertAfter(n).hide()),n=n.show().detach(),b.wrap.bind("onReset",function(){l(this).find(n).length&&n.hide().replaceAll(n.data("fancybox-placeholder")).data("fancybox-placeholder",false);}));break;case"image":n=b.tpl.image.replace("{href}",m);break;case"swf":n='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+m+'"></param>',k="",l.each(b.swf,function(s,q){n=n+('<param name="'+s+'" value="'+q+'"></param>');k=k+(" "+s+'="'+q+'"');}),n+='<embed src="'+m+'" type="application/x-shockwave-flash" width="100%" height="100%"'+k+"></embed></object>";}(!y(n)||!n.parent().is(b.inner))&&b.inner.append(n);t.trigger("beforeShow");b.inner.css("overflow","yes"===f?"scroll":"no"===f?"hidden":f);t._setDimension();b.wrap.removeClass("fancybox-tmp");b.pos=l.extend({},b.dim,t._getPosition(!0));t.isOpen=!1;t.coming=null;t.bindEvents();if(t.isOpened){if(p.prevMethod){t.transitions[p.prevMethod]();}}else{l(".fancybox-wrap").not(b.wrap).stop(!0).trigger("onReset").remove();}t.transitions[t.isOpened?b.nextMethod:b.openMethod]();t._preloadImages();}}},_setDimension:function(){var ab=t.getViewport(),aa=0,Y=!1,Z=!1,Y=t.wrap,U=t.skin,X=t.inner,W=t.current,Z=W.width,V=W.height,T=W.minWidth,I=W.minHeight,S=W.maxWidth,R=W.maxHeight,K=W.scrolling,N=W.scrollOutside?W.scrollbarWidth:0,v=W.margin,Q=v[1]+v[3],P=v[0]+v[2],k,L,G,O,f,J,b,M,H;Y.add(U).add(X).width("auto").height("auto");v=U.outerWidth(!0)-U.width();k=U.outerHeight(!0)-U.height();L=Q+v;G=P+k;O=a(Z)?(ab.w-L)*j(Z)/100:Z;f=a(V)?(ab.h-G)*j(V)/100:V;if("iframe"===W.type){if(H=W.content,W.autoHeight&&1===H.data("ready")){try{H[0].contentWindow.document.location&&(X.width(O).height(9999),J=H.contents().find("body"),N&&J.css("overflow-x","hidden"),f=J.height());}catch(C){}}}else{if(W.autoWidth||W.autoHeight){X.addClass("fancybox-tmp"),W.autoWidth||X.width(O),W.autoHeight||X.height(f),W.autoWidth&&(O=X.width()),W.autoHeight&&(f=X.height()),X.removeClass("fancybox-tmp");}}Z=j(O);V=j(f);M=O/f;T=j(a(T)?j(T,"w")-L:T);S=j(a(S)?j(S,"w")-L:S);I=j(a(I)?j(I,"h")-G:I);R=j(a(R)?j(R,"h")-G:R);J=S;b=R;Q=ab.w-Q;P=ab.h-P;if(W.aspectRatio){if(Z>S&&(Z=S,V=Z/M),V>R&&(V=R,Z=V*M),Z<T&&(Z=T,V=Z/M),V<I){V=I,Z=V*M;}}else{Z=Math.max(T,Math.min(Z,S)),V=Math.max(I,Math.min(V,R));}if(W.fitToView){if(S=Math.min(ab.w-L,S),R=Math.min(ab.h-G,R),X.width(j(Z)).height(j(V)),Y.width(j(Z+v)),ab=Y.width(),L=Y.height(),W.aspectRatio){for(;(ab>Q||L>P)&&(Z>T&&V>I)&&!(19<aa++);){V=Math.max(I,Math.min(R,V-10)),Z=V*M,Z<T&&(Z=T,V=Z/M),Z>S&&(Z=S,V=Z/M),X.width(j(Z)).height(j(V)),Y.width(j(Z+v)),ab=Y.width(),L=Y.height();}}else{Z=Math.max(T,Math.min(Z,Z-(ab-Q))),V=Math.max(I,Math.min(V,V-(L-P)));}}N&&("auto"===K&&V<f&&Z+v+N<Q)&&(Z+=N);X.width(j(Z)).height(j(V));Y.width(j(Z+v));ab=Y.width();L=Y.height();Y=(ab>Q||L>P)&&Z>T&&V>I;Z=W.aspectRatio?Z<J&&V<b&&Z<O&&V<f:(Z<J||V<b)&&(Z<O||V<f);l.extend(W,{dim:{width:A(ab),height:A(L)},origWidth:O,origHeight:f,canShrink:Y,canExpand:Z,wPadding:v,hPadding:k,wrapSpace:L-U.outerHeight(!0),skinSpace:U.height()-V});!H&&(W.autoHeight&&V>I&&V<R&&!Z)&&X.height("auto");},_getPosition:function(b){var p=t.current,n=t.getViewport(),o=p.margin,m=t.wrap.width()+o[1]+o[3],k=t.wrap.height()+o[0]+o[2],o={position:"absolute",top:o[0],left:o[3]};p.autoCenter&&p.fixed&&!b&&k<=n.h&&m<=n.w?o.position="fixed":p.locked||(o.top+=n.y,o.left+=n.x);o.top=A(Math.max(o.top,o.top+(n.h-k)*p.topRatio));o.left=A(Math.max(o.left,o.left+(n.w-m)*p.leftRatio));return o;},_afterZoomIn:function(){var b=t.current;b&&((t.isOpen=t.isOpened=!0,t.wrap.addClass("fancybox-opened").css("overflow","visible"),t.reposition(),(b.closeClick||b.nextClick)&&t.inner.css("cursor","pointer").bind("click.fb",function(f){if(!l(f.target).is("a")&&!l(f.target).parent().is("a")){t[b.closeClick?"close":"next"]();}}),b.closeBtn&&l(b.tpl.closeBtn).appendTo(t.skin).bind("click.fb",t.close),b.arrows&&1<t.group.length&&((b.loop||0<b.index)&&l(b.tpl.prev).appendTo(t.outer).bind("click.fb",t.prev),(b.loop||b.index<t.group.length-1)&&l(b.tpl.next).appendTo(t.outer).bind("click.fb",t.next)),t.trigger("afterShow"),!b.loop&&b.index===b.group.length-1)?t.play(!1):t.opts.autoPlay&&!t.player.isActive&&(t.opts.autoPlay=!1,t.play()));},_afterZoomOut:function(){var b=t.current;l(".fancybox-wrap").stop(!0).trigger("onReset").remove();l.extend(t,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});t.trigger("afterClose",b);}});t.transitions={getOrigPosition:function(){var u=t.current,s=u.element,p=u.orig,q={},o=50,n=50,m=u.hPadding,k=u.wPadding,b=t.getViewport();!p&&(u.isDom&&s.is(":visible"))&&(p=s.find("img:first"),p.length||(p=s));y(p)?(q=p.offset(),p.is("img")&&(o=p.outerWidth(),n=p.outerHeight())):(q.top=b.y+(b.h-n)*u.topRatio,q.left=b.x+(b.w-o)*u.leftRatio);u.locked&&(q.top-=b.y,q.left-=b.x);return q={top:A(q.top-m*u.topRatio),left:A(q.left-k*u.leftRatio),width:A(o+k),height:A(n+m)};},step:function(b,q){var o,p,n=q.prop;p=t.current;var m=p.wrapSpace,k=p.skinSpace;if("width"===n||"height"===n){o=q.end===q.start?1:(b-q.start)/(q.end-q.start),t.isClosing&&(o=1-o),p="width"===n?p.wPadding:p.hPadding,p=b-p,t.skin[n](j("width"===n?p:p-m*o)),t.inner[n](j("width"===n?p:p-m*o-k*o));}},zoomIn:function(){var b=t.current,n=b.pos,k=b.openEffect,m="elastic"===k,f=l.extend({opacity:1},n);delete f.position;m?(n=this.getOrigPosition(),b.openOpacity&&(n.opacity=0.1)):"fade"===k&&(n.opacity=0.1);t.wrap.css(n).animate(f,{duration:"none"===k?0:b.openSpeed,easing:b.openEasing,step:m?this.step:null,complete:t._afterZoomIn});},zoomOut:function(){var b=t.current,m=b.closeEffect,f="elastic"===m,k={opacity:0.1};f&&(k=this.getOrigPosition(),b.closeOpacity&&(k.opacity=0.1));t.wrap.animate(k,{duration:"none"===m?0:b.closeSpeed,easing:b.closeEasing,step:f?this.step:null,complete:t._afterZoomOut});},changeIn:function(){var b=t.current,p=b.nextEffect,n=b.pos,o={opacity:1},m=t.direction,k;n.opacity=0.1;"elastic"===p&&(k="down"===m||"up"===m?"top":"left","down"===m||"right"===m?(n[k]=A(j(n[k])-200),o[k]="+=200px"):(n[k]=A(j(n[k])+200),o[k]="-=200px"));"none"===p?t._afterZoomIn():t.wrap.css(n).animate(o,{duration:b.nextSpeed,easing:b.nextEasing,complete:t._afterZoomIn});},changeOut:function(){var b=t.previous,m=b.prevEffect,f={opacity:0.1},k=t.direction;"elastic"===m&&(f["down"===k||"up"===k?"top":"left"]=("up"===k||"left"===k?"-":"+")+"=200px");b.wrap.animate(f,{duration:"none"===m?0:b.prevSpeed,easing:b.prevEasing,complete:function(){l(this).trigger("onReset").remove();}});}};t.helpers.overlay={overlay:null,update:function(){var k="100%",f;this.overlay.width(k).height("100%");l.browser.msie?(f=Math.max(d.documentElement.offsetWidth,d.body.offsetWidth),g.width()>f&&(k=g.width())):g.width()>e.width()&&(k=g.width());this.overlay.width(k).height(g.height());},onReady:function(k,f){l(".fancybox-overlay").stop(!0,!0);this.overlay||l.extend(this,{overlay:l('<div class="fancybox-overlay"></div>').appendTo(f.parent),margin:g.height()>e.height()||"scroll"===l("body").css("overflow-y")?l("body").css("margin-right"):!1,el:d.all&&!d.querySelector?l("html"):l("body")});f.fixed&&!i&&(this.overlay.addClass("fancybox-overlay-fixed"),f.autoCenter&&(this.overlay.append(f.wrap),f.locked=this.overlay));!0===k.showEarly&&this.beforeShow.apply(this,arguments);},beforeShow:function(b,k){var f=this.overlay.unbind(".fb").width("auto").height("auto").css(b.css);b.closeClick&&f.bind("click.fb",function(m){l(m.target).hasClass("fancybox-overlay")&&t.close();});k.fixed&&!i?k.locked&&(this.el.addClass("fancybox-lock"),!1!==this.margin&&l("body").css("margin-right",j(this.margin)+k.scrollbarWidth)):this.update();f.show();},onUpdate:function(k,f){(!f.fixed||i)&&this.update();},afterClose:function(b){var f=this,b=b.speedOut||0;f.overlay&&!t.isActive&&f.overlay.fadeOut(b||0,function(){l("body").css("margin-right",f.margin);f.el.removeClass("fancybox-lock");f.overlay.remove();f.overlay=null;});}};t.helpers.title={beforeShow:function(b){var k=t.current.title,f=b.type;if(D(k)&&""!==l.trim(k)){k=l('<div class="fancybox-title fancybox-title-'+f+'-wrap">'+k+"</div>");switch(f){case"inside":f=t.skin;break;case"outside":f=t.wrap;break;case"over":f=t.inner;break;default:f=t.skin,k.appendTo("body").width(k.width()).wrapInner('<span class="child"></span>'),t.current.margin[2]+=Math.abs(j(k.css("margin-bottom")));}"top"===b.position?k.prependTo(f):k.appendTo(f);}}};l.fn.fancybox=function(b){var n,k=l(this),m=this.selector||"",f=function(u){var s=l(this).blur(),q=n,p,o;!u.ctrlKey&&(!u.altKey&&!u.shiftKey&&!u.metaKey)&&!s.is(".fancybox-wrap")&&(p=b.groupAttr||"data-fancybox-group",o=s.attr(p),o||(p="rel",o=s.get(0)[p]),o&&(""!==o&&"nofollow"!==o)&&(s=m.length?l(m):k,s=s.filter("["+p+'="'+o+'"]'),q=s.index(this)),b.index=q,!1!==t.open(s,b)&&u.preventDefault());},b=b||{};n=b.index||0;!m||!1===b.live?k.unbind("click.fb-start").bind("click.fb-start",f):g.undelegate(m,"click.fb-start").delegate(m+":not('.fancybox-item, .fancybox-nav')","click.fb-start",f);return this;};g.ready(function(){l.scrollbarWidth===c&&(l.scrollbarWidth=function(){var n=l('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),m=n.children(),m=m.innerWidth()-m.height(99).innerWidth();n.remove();return m;});if(l.support.fixedPosition===c){var b=l.support,k=l('<div style="position:fixed;top:20px;"></div>').appendTo("body"),f=20===k[0].offsetTop||15===k[0].offsetTop;k.remove();b.fixedPosition=f;}l.extend(t.defaults,{scrollbarWidth:l.scrollbarWidth(),fixed:l.support.fixedPosition,parent:l("body")});});})(window,document,jQuery);(function(s){s.tools=s.tools||{version:"@VERSION"};var o=/\[type=([a-z]+)\]/,q=/^-?[0-9]*(\.[0-9]+)?$/,v=s.tools.dateinput,y=/^([a-z0-9_\.\-\+]+)@([\da-z\.\-]+)\.([a-z\.]{2,6})$/i,r=/^(https?:\/\/)?[\da-z\.\-]+\.[a-z\.]{2,6}[#&+_\?\/\w \.\-=]*$/i,p;p=s.tools.validator={conf:{grouped:false,effect:"default",errorClass:"invalid",inputEvent:null,errorInputEvent:"keyup",formEvent:"submit",lang:"en",message:"<div/>",messageAttr:"data-message",messageClass:"error",offset:[0,0],position:"center right",singleError:false,speed:"normal"},messages:{"*":{en:"Please correct this value"}},localize:function(b,a){s.each(a,function(d,c){p.messages[d]=p.messages[d]||{};p.messages[d][b]=c;});},localizeFn:function(a,b){p.messages[a]=p.messages[a]||{};s.extend(p.messages[a],b);},fn:function(d,c,a){if(s.isFunction(c)){a=c;}else{if(typeof c=="string"){c={en:c};}this.messages[d.key||d]=c;}var b=o.exec(d);if(b){d=t(b[1]);}n.push([d,a]);},addEffect:function(a,c,b){x[a]=[c,b];}};function m(d,e,b){e=s(e).first()||e;var j=d.offset().top,c=d.offset().left,a=b.position.split(/,?\s+/),k=a[0],i=a[1];j-=e.outerHeight()-b.offset[0];c+=d.outerWidth()+b.offset[1];if(/iPad/i.test(navigator.userAgent)){j-=s(window).scrollTop();}var g=e.outerHeight()+d.outerHeight();if(k=="center"){j+=g/2;}if(k=="bottom"){j+=g;}var f=d.outerWidth();if(i=="center"){c-=(f+e.outerWidth())/2;}if(i=="left"){c-=f;}return{top:j,left:c};}function t(b){function a(){return this.getAttribute("type")==b;}a.key="[type="+b+"]";return a;}var n=[],x={"default":[function(a){var b=this.getConf();s.each(a,function(f,e){var g=e.input;g.addClass(b.errorClass);var d=g.data("msg.el");if(!d){d=s(b.message).addClass(b.messageClass).appendTo(document.body);g.data("msg.el",d);}d.css({visibility:"hidden"}).find("p").remove();s.each(e.messages,function(i,j){s("<p/>").html(j).appendTo(d);});if(d.outerWidth()==d.parent().width()){d.add(d.find("p")).css({display:"inline"});}var c=m(g,d,b);d.css({visibility:"visible",position:"absolute",top:c.top,left:c.left}).fadeIn(b.speed);});},function(a){var b=this.getConf();a.removeClass(b.errorClass).each(function(){var c=s(this).data("msg.el");if(c){c.css({visibility:"hidden"});}});}]};s.each("email,url,number".split(","),function(b,a){s.expr[":"][a]=function(c){return c.getAttribute("type")===a;};});s.fn.oninvalid=function(a){return this[a?"bind":"trigger"]("OI",a);};p.fn(":email","Please enter a valid email address",function(b,a){return !a||y.test(a);});p.fn(":url","Please enter a valid URL",function(b,a){return !a||r.test(a);});p.fn(":number","Please enter a numeric value.",function(b,a){return q.test(a);});p.fn("[max]","Please enter a value no larger than $1",function(b,c){if(c===""||v&&b.is(":date")){return true;}var a=b.attr("max");return parseFloat(c)<=parseFloat(a)?true:[a];});p.fn("[min]","Please enter a value of at least $1",function(b,a){if(a===""||v&&b.is(":date")){return true;}var c=b.attr("min");return parseFloat(a)>=parseFloat(c)?true:[c];});p.fn("[required]","Please complete this mandatory field.",function(b,a){if(b.is(":checkbox")){return b.is(":checked");}return !!a;});p.fn("[pattern]",function(a){var b=new RegExp("^"+a.attr("pattern")+"$");return b.test(a.val());});p.fn(":radio","Please select an option.",function(c){var b=false;var a=s("[name="+c.attr("name")+"]").each(function(e,d){if(s(d).is(":checked")){b=true;}});return(b)?true:false;});function u(a,b,d){var e=this,c=b.add(e);a=a.not(":button, :image, :reset, :submit");b.attr("novalidate","novalidate");function f(g,j,l){if(!d.grouped&&g.length){return;}var i;if(l===false||s.isArray(l)){i=p.messages[j.key||j]||p.messages["*"];i=i[d.lang]||p.messages["*"].en;var k=i.match(/\$\d/g);if(k&&s.isArray(l)){s.each(k,function(z){i=i.replace(this,l[z]);});}}else{i=l[d.lang]||l;}g.push(i);}s.extend(e,{getConf:function(){return d;},getForm:function(){return b;},getInputs:function(){return a;},reflow:function(){a.each(function(){var j=s(this),i=j.data("msg.el");if(i){var g=m(j,i,d);i.css({top:g.top,left:g.left});}});return e;},invalidate:function(j,i){if(!i){var g=[];s.each(j,function(l,k){var z=a.filter("[name='"+l+"']");if(z.length){z.trigger("OI",[k]);g.push({input:z,messages:[k]});}});j=g;i=s.Event();}i.type="onFail";c.trigger(i,[j]);if(!i.isDefaultPrevented()){x[d.effect][0].call(e,j,i);}return e;},reset:function(g){g=g||a;g.removeClass(d.errorClass).each(function(){var i=s(this).data("msg.el");if(i){i.remove();s(this).data("msg.el",null);}}).unbind(d.errorInputEvent||"");return e;},destroy:function(){b.unbind(d.formEvent+".V").unbind("reset.V");a.unbind(d.inputEvent+".V").unbind("change.V");return e.reset();},checkValidity:function(k,g){k=k||a;k=k.not(":disabled");var i={};k=k.filter(function(){var z=s(this).attr("name");if(!i[z]){i[z]=true;return s(this);}});if(!k.length){return true;}g=g||s.Event();g.type="onBeforeValidate";c.trigger(g,[k]);if(g.isDefaultPrevented()){return g.result;}var l=[];k.each(function(){var B=[],A=s(this).data("messages",B),C=v&&A.is(":date")?"onHide.v":d.errorInputEvent+".v";A.unbind(C);s.each(n,function(){var F=this,z=F[0];if(A.filter(z).length){var G=F[1].call(e,A,A.val());if(G!==true){g.type="onBeforeFail";c.trigger(g,[A,z]);if(g.isDefaultPrevented()){return false;}var E=A.attr(d.messageAttr);if(E){B=[E];return false;}else{f(B,z,G);}}}});if(B.length){l.push({input:A,messages:B});A.trigger("OI",[B]);if(d.errorInputEvent){A.bind(C,function(z){e.checkValidity(A,z);});}}if(d.singleError&&l.length){return false;}});var j=x[d.effect];if(!j){throw'Validator: cannot find effect "'+d.effect+'"';}if(l.length){e.invalidate(l,g);return false;}else{j[1].call(e,k,g);g.type="onSuccess";c.trigger(g,[k]);k.unbind(d.errorInputEvent+".v");}return true;}});s.each("onBeforeValidate,onBeforeFail,onFail,onSuccess".split(","),function(g,i){if(s.isFunction(d[i])){s(e).bind(i,d[i]);}e[i]=function(j){if(j){s(e).bind(i,j);}return e;};});if(d.formEvent){b.bind(d.formEvent+".V",function(g){if(!e.checkValidity(null,g)){return g.preventDefault();}g.target=b;g.type=d.formEvent;});}b.bind("reset.V",function(){e.reset();});if(a[0]&&a[0].validity){a.each(function(){this.oninvalid=function(){return false;};});}if(b[0]){b[0].checkValidity=e.checkValidity;}if(d.inputEvent){a.bind(d.inputEvent+".V",function(g){e.checkValidity(s(this),g);});}a.filter(":checkbox, select").filter("[required]").bind("change.V",function(g){var i=s(this);if(this.checked||(i.is("select")&&s(this).val())){x[d.effect][1].call(e,i,g);}});a.filter(":radio[required]").bind("change.V",function(g){var i=s("[name="+s(g.srcElement).attr("name")+"]");if((i!=null)&&(i.length!=0)){e.checkValidity(i,g);}});s(window).resize(function(){e.reflow();});}s.fn.validator=function(b){var a=this.data("validator");if(a){a.destroy();this.removeData("validator");}b=s.extend(true,{},p.conf,b);if(this.is("form")){return this.each(function(){var c=s(this);a=new u(c.find(":input"),c,b);c.data("validator",a);});}else{a=new u(this,this.eq(0).closest("form"),b);return this.data("validator",a);}};})(jQuery);(function(b){b.fn.swipe=function(a){if(!this){return false;}var B={fingers:1,threshold:75,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,click:null,triggerOnTouchEnd:true,allowPageScroll:"auto"};var D="left";var x="right";var q="up";var t="down";var u="none";var C="horizontal";var z="vertical";var r="auto";var E="start";var y="move";var v="end";var A="cancel";var s="start";if(a.allowPageScroll==undefined&&(a.swipe!=undefined||a.swipeStatus!=undefined)){a.allowPageScroll=u;}if(a){b.extend(B,a);}return this.each(function(){var g=b(this);var k=null;var f=0;var I={x:0,y:0};var n={x:0,y:0};var H={x:0,y:0};function o(F){s=E;f=F.touches.length;distance=0;direction=null;if(f==B.fingers){I.x=n.x=F.touches[0].pageX;I.y=n.y=F.touches[0].pageY;if(B.swipeStatus){p(F,s);}}else{l(F);}}function d(F){if(s==v||s==A){return;}n.x=F.touches[0].pageX;n.y=F.touches[0].pageY;direction=e();f=F.touches.length;s=y;i(F,direction);if(f==B.fingers){distance=m();if(B.swipeStatus){p(F,s,direction,distance);}if(!B.triggerOnTouchEnd){if(distance>=B.threshold){s=v;p(F,s);l(F);}}}else{s=A;p(F,s);l(F);}}function G(F){F.preventDefault();distance=m();direction=e();if(B.triggerOnTouchEnd){s=v;if(f==B.fingers&&n.x!=0){if(distance>=B.threshold){p(F,s);l(F);}else{s=A;p(F,s);l(F);}}else{s=A;p(F,s);l(F);}}else{if(s==y){s=A;p(F,s);l(F);}}}function l(F){f=0;I.x=0;I.y=0;n.x=0;n.y=0;H.x=0;H.y=0;}function p(F,J){if(B.swipeStatus){B.swipeStatus.call(g,F,J,direction||null,distance||0);}if(J==A){if(B.click&&f==1&&(isNaN(distance)||distance==0)){B.click.call(g,F,F.target);}}if(J==v){if(B.swipe){B.swipe.call(g,F,direction,distance);}switch(direction){case D:if(B.swipeLeft){B.swipeLeft.call(g,F,direction,distance);}break;case x:if(B.swipeRight){B.swipeRight.call(g,F,direction,distance);}break;case q:if(B.swipeUp){B.swipeUp.call(g,F,direction,distance);}break;case t:if(B.swipeDown){B.swipeDown.call(g,F,direction,distance);}break;}}}function i(K,J){if(B.allowPageScroll==u){K.preventDefault();}else{var F=B.allowPageScroll==r;switch(J){case D:if((B.swipeLeft&&F)||(!F&&B.allowPageScroll!=C)){K.preventDefault();}break;case x:if((B.swipeRight&&F)||(!F&&B.allowPageScroll!=C)){K.preventDefault();}break;case q:if((B.swipeUp&&F)||(!F&&B.allowPageScroll!=z)){K.preventDefault();}break;case t:if((B.swipeDown&&F)||(!F&&B.allowPageScroll!=z)){K.preventDefault();}break;}}}function m(){return Math.round(Math.sqrt(Math.pow(n.x-I.x,2)+Math.pow(n.y-I.y,2)));}function c(){var F=I.x-n.x;var K=n.y-I.y;var M=Math.atan2(K,F);var L=Math.round(M*180/Math.PI);if(L<0){L=360-Math.abs(L);}return L;}function e(){var F=c();if((F<=45)&&(F>=0)){return D;}else{if((F<=360)&&(F>=315)){return D;}else{if((F>=135)&&(F<=225)){return x;}else{if((F>45)&&(F<135)){return t;}else{return q;}}}}}try{this.addEventListener("touchstart",o,false);this.addEventListener("touchmove",d,false);this.addEventListener("touchend",G,false);this.addEventListener("touchcancel",l,false);}catch(j){}});};})(jQuery);function GetClientWindowSize(a){if(!window.innerWidth){if(!(document.documentElement.clientWidth==0)){w=document.documentElement.clientWidth;h=document.documentElement.clientHeight;}else{w=document.body.clientWidth;h=document.body.clientHeight;}}else{w=window.innerWidth;h=window.innerHeight;}if(a=="width"){return w;}if(a=="height"){return h;}}var percentageLoad,imgLength,imgLoaded=0;var timeToWait=0;var $logo,$logoWidth,$logoMargin,$blockintro,$lnkcontact,$blockcontact,$backhome;var $step="home";var core={bootstrap:function(a){$("body").removeClass("no-js");if($.browser.msie&&$.browser.version<9){$('section[data-role="loading"]').append('<span class="nosupport">gd labs may not work so well with internet explorer.<br />try launching this site with a modern browser.</span>');}core.preloadImages();},preloadImages:function(){core.initApp();$("#percentageLoad").html(percentageLoad+"%");imgLength=$("img, .topreload").length;function a(){$('section[data-role="loading"]').stopTime();$('section[data-role="loading"]').addClass("off").oneTime(600,"adieu",function(){$(this).remove();});if(!Modernizr.touch){$('section[data-role="content"] footer .mobile').remove();}else{$('section[data-role="content"] footer .desktop').remove();}$('section[data-role="content"]').oneTime(800,"welcome",function(){$(this).removeClass("off");});}if(imgLength!=0){$("img, .topreload").each(function(b){tagToLoad=this.nodeName.toLowerCase();if(tagToLoad=="img"){if($(tagToLoad).prop("complete")){if(imgLoaded<imgLength){imgLoaded++;}percentageLoad=Math.round((imgLoaded*100)/imgLength);}else{$(tagToLoad).load(function(){if(imgLoaded<imgLength){imgLoaded++;}percentageLoad=Math.round((imgLoaded*100)/imgLength);});}}else{$("body").append('<img class="loadingimage'+b+'" />');urlToLoad=$(this).css("background-image");urlCleared=urlToLoad.replace("url(","").replace('")',"").replace(")","").replace('"',"").replace("'","").replace("../","");$(".loadingimage"+b).attr("src",urlCleared);if($(".loadingimage"+b).prop("complete")){$(".loadingimage"+b).remove();if(imgLoaded<imgLength){imgLoaded++;}percentageLoad=Math.round((imgLoaded*100)/imgLength);}else{$(".loadingimage"+b).load(function(){$(".loadingimage"+b).remove();if(imgLoaded<imgLength){imgLoaded++;}percentageLoad=Math.round((imgLoaded*100)/imgLength);});}}});}else{a();}$("#phrase-1").removeClass("off");$('section[data-role="loading"]').everyTime(100,"nextText",function(){timeToWait++;$("#percentage").html(percentageLoad+"%");if((percentage<50)||timeToWait<20){$("#phrase-1").removeClass("off");}if((percentage>=50&&percentage<100)||(timeToWait>=20&&timeToWait<40)){$("#phrase-1").addClass("end");$("#phrase-2").removeClass("off");}if((percentage==100)||(timeToWait>=40&&timeToWait<60)){$("#phrase-2").addClass("end");$("#phrase-3").removeClass("off");}if(timeToWait>=60){$("#phrase-3").addClass("end");a();}});},initApp:function(){$logo=$("#logo");$logoWidth=$logo.width();$logoMargin=Number($logo.css("margin-left").replace("px",""));$blockintro=$("#block-intro");$lnkcontact=$("#lnk-contact");$blockcontact=$("#block-contact");$backhome=$("#lnk-back-home");$lnkblue=$("#lnk-blue");$lnkred=$("#lnk-red");core.logoAction();core.goToAboutAction();core.initScrollpane();core.goToContactAction();core.backHomeAction();core.fakeSelect();core.fakeFile();core.fakeCheckbox();core.initializeFormValidator();core.openFancybox();core.sendEmail();core.repositionLogo();core.resizeBackground();core.placeholderIE();core.deviceControl();if(!Modernizr.svg){core.substituteSVG();}},logoAction:function(){$this="";$("#lnk-blue, #lnk-red").bind("mousedown touchstart",function(a){$this=$(this);$oppositeThis=$this.attr("id")=="lnk-blue"?$lnkred:$lnkblue;$about=$("article[data-name=about-"+$this.attr("id").replace("lnk-","")+"]");$part=$("#"+$this.attr("id").replace("lnk-",""));$oppositePart=$this.attr("id")=="lnk-blue"?$("#red"):$("#blue");$oppositeAbout=$this.attr("id")!="lnk-blue"?$("article[data-name=about-blue]"):$("article[data-name=about-red]");if(!$this.hasClass("disabled")){if(!$this.hasClass("active")){$logo.removeAttr("style").addClass($this.attr("id")).removeClass($oppositeThis.attr("id"));$this.addClass("active");$about.addClass("active");$part.addClass("active").removeClass("grayscale");$oppositeThis.removeClass("active");$oppositeAbout.removeClass("active");$oppositePart.removeClass("active").addClass("grayscale");$blockintro.stop(true,true).fadeOut(600);$lnkcontact.addClass("invisible");$backhome.addClass("active");if(GetClientWindowSize("width")>768){$step="open-"+$this.attr("id");}else{$(".block-about[data-name=about-"+$this.attr("id").replace("lnk-","")+"]").trigger("click");}}else{$this.removeClass("active");$logo.removeClass($this.attr("id")+" "+$oppositeThis.attr("id"));$logo.find("a, div").removeClass("active grayscale").parent().parent().find(".block-about").removeClass("active grayscale");$blockintro.stop(true,true).delay(300).fadeIn(600);$lnkcontact.removeClass("invisible");$backhome.removeClass("active");$step="home";}}else{$backhome.find("a").trigger("mousedown");}return false;});},goToAboutAction:function(){$(".block-about").bind("click mousedown touchstart",function(a){$blockAbout=$(this);if($blockAbout.hasClass("active")&&!$blockAbout.hasClass("readable")){$blockAbout.addClass("readable");if($blockAbout.attr("data-name")=="about-blue"){if(GetClientWindowSize("width")>768){$logo.css({"margin-left":(GetClientWindowSize("width")/2)-($logo.width()/2)});}else{$logo.css({"margin-left":GetClientWindowSize("width")+$logo.width()});}_gaq.push(["_trackEvent","About us","greppucci"]);}if($blockAbout.attr("data-name")=="about-red"){if(GetClientWindowSize("width")>768){$logo.css({"margin-left":-(GetClientWindowSize("width")/2)-($logo.width()/2)});}else{$logo.css({"margin-left":-GetClientWindowSize("width")-$logo.width()});}_gaq.push(["_trackEvent","About us","dreppucci"]);}$logo.find("a").addClass("disabled");$backhome.addClass("active");$step=$blockAbout.attr("data-name");}return false;});},initScrollpane:function(){$(".scroll-pane").each(function(){$(this).jScrollPane({showArrows:false,horizontalGutter:0,verticalGutter:10,autoReinitialise:true,animateEase:"easeInOutQuad"});});},goToContactAction:function(){$lnkcontact.find("a").bind("mousedown touchstart",function(a){$logo.removeClass("lnk-blue lnk-red");$logo.find("a, div").addClass("disabled grayscale").parent().parent().find(".block-about").removeClass("active grayscale");$logo.css({"margin-top":-(GetClientWindowSize("height")/2)-($logo.height()/1.2)});$blockintro.stop(true,true).fadeOut(600);$lnkcontact.addClass("invisible");$backhome.addClass("active");$blockcontact.stop(true,true).delay(500).fadeIn(600);$step="contact";});},backHomeAction:function(){$backhome.find("a").bind("mousedown touchstart",function(a){if($step=="open-lnk-blue"||$step=="open-lnk-red"){$logo.removeClass("lnk-blue lnk-red");$logo.find("a, div").removeClass("active grayscale").parent().parent().find(".block-about").removeClass("active grayscale");$lnkcontact.removeClass("invisible");}if($step=="about-blue"||$step=="about-red"){$blockAbout=$("article.readable");$blockAbout.removeClass("active readable");$logo.removeAttr("style");$logo.removeClass("lnk-blue lnk-red").find("div, a").removeClass("active disabled grayscale");$lnkcontact.removeClass("invisible");}if($step=="contact"){$logo.find("a, div").removeClass("disabled grayscale");$logo.removeAttr("style");$blockcontact.stop(true,true).fadeOut(300);$lnkcontact.removeClass("invisible");core.emptyContactForm();}$blockintro.stop(true,true).delay(300).fadeIn(600);$step="home";$backhome.removeClass("active");});},fakeSelect:function(){$("#contact-form p select").each(function(){$(this).prev().html($(this).find("option:selected").text());});$("#contact-form p select").on("change",function(){$(this).prev().html($(this).find("option:selected").text());});$("#contact-form p select").on("blur",function(){$(this).prev().removeClass("focus");if($(this).attr("required")){if($(this).find("option:selected").val()==""||$(this).find("option:selected").val()==undefined||$(this).find("option:selected").val()==null){$(this).prev().addClass("invalid");}else{$(this).prev().removeClass("invalid");}}});$("#contact-form p select").on("change keypress",function(){$(this).prev().html($(this).find("option:selected").text());if($(this).attr("required")){if($(this).find("option:selected").val()==""||$(this).find("option:selected").val()==undefined||$(this).find("option:selected").val()==null){$(this).prev().addClass("invalid");}else{$(this).prev().removeClass("invalid");}}});},fakeFile:function(){$("#contact-form p input[type=file]").each(function(){if($(this).val()!=""){$(this).prev().find(".file-target").html($(this).val());}});$("#contact-form p input[type=file]").on("change",function(){$(this).prev().find(".file-target").html($(this).val());});},fakeCheckbox:function(){$("#contact-form p input[type=checkbox]").each(function(){if($(this).attr("checked")){$(this).prev().addClass("active");}});$("#contact-form p input[type=checkbox]").on("change",function(){$(this).prev().toggleClass("active");});},initializeFormValidator:function(){$.tools.validator.localize("en",{":email":"Wrong email format",":tel":"Wrong phone number format","[required]":"Mandatory field"});$(".validate-form input[type=tel]").keypress(function(b){var a=(b.keyCode?b.keyCode:b.which);if((a>47&&a<58)||a==43||a==45||a==32||a==46||a==8||a==9){}else{return false;}});$(".validate-form").validator({lang:"en",position:"top center",inputEvent:"keyup",errorInputEvent:"blur",offset:[-10,0],message:"<div><em/></div>",singleError:true});$(".validate-form").on("submit",function(a){if(a.isDefaultPrevented()){return false;}});},openFancybox:function(){$("[data-fancybox=true]").fancybox({width:400,minHeight:160,autoSize:true,autoResize:true,autoDimensions:true,autoScale:true,fitToView:true,scrolling:"no",type:"iframe",title:null,href:$(this).attr("href")});},sendEmail:function(){$("#block-contact form").submit(function(a){if(!a.isDefaultPrevented()){$.ajax({type:"POST",url:$("#block-contact form").attr("action"),data:$("#block-contact form").serialize(),dataType:"json",success:function(b){$.fancybox({width:450,minWidth:450,minHeight:80,autoSize:true,autoResize:true,autoDimensions:true,scrolling:"no",fitToView:true,content:'<p class="feedback-error">'+b.msg+"</p>",title:null});core.emptyContactForm();_gaq.push(["_trackEvent","Contact form","Email sent"]);}}).error(function(b,d,c){$.fancybox({width:450,minWidth:450,minHeight:80,autoSize:true,autoResize:true,autoDimensions:true,scrolling:"no",fitToView:true,content:'<p class="feedback-error">'+data.msg+"</p>",title:null});});}a.preventDefault();return false;});},emptyContactForm:function(){$blockcontact.find("input:not(#submit), textarea").val("");$blockcontact.find("select option").removeAttr("selected");$blockcontact.find("input[type=checkbox]").removeAttr("checked");$blockcontact.find(".fake-elm").each(function(){$(this).html($(this).attr("data-text"));});$blockcontact.find(".checkbox-fake").removeClass("active");$(".error").removeAttr("style");},repositionLogo:function(){$(window).resize(function(){if($step=="about-blue"){if(GetClientWindowSize("width")>768){$logo.css({"margin-left":(GetClientWindowSize("width")/2)-($logo.width()/2)});}}if($step=="about-red"){if(GetClientWindowSize("width")>768){$logo.css({"margin-left":-(GetClientWindowSize("width")/2)-($logo.width()/2)});}}if($step=="contact"){$logo.css({"margin-top":-(GetClientWindowSize("height")/2)-($logo.height()/1.2)});}});},resizeBackground:function(){$('section[data-role="content"]').css("height",GetClientWindowSize("height"));$(window).resize(function(){$('section[data-role="content"]').css("height",GetClientWindowSize("height"));});},placeholderIE:function(){if(!Modernizr.input.placeholder){$("[placeholder]").focus(function(){var a=$(this);if(a.val()==a.attr("placeholder")){a.val("");a.removeClass("placeholder");}}).blur(function(){var a=$(this);if(a.val()==""||a.val()==a.attr("placeholder")){a.addClass("placeholder");a.val(a.attr("placeholder"));}}).blur();$("[placeholder]").parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var a=$(this);if(a.val()==a.attr("placeholder")){a.val("");}});});}},deviceControl:function(){if(!Modernizr.touch){$(document).keyup(function(a){if(a.which==38){core.navControlUp();}if(a.which==40){core.navControlDown();}if(a.which==37){core.navControlLeft();}if(a.which==39){core.navControlRight();}a.preventDefault();return false;});}else{$("body").swipe({swipeUp:function(){core.navControlDown();},swipeDown:function(){core.navControlUp();},swipeLeft:function(){core.navControlRight();},swipeRight:function(){core.navControlLeft();},threshold:5,allowPageScroll:false});}},navControlUp:function(){if($step=="open-lnk-blue"||$step=="open-lnk-red"||$step=="contact"){$backhome.find("a").trigger("mousedown");}},navControlDown:function(){if($step=="home"){$lnkcontact.find("a").trigger("mousedown");}},navControlLeft:function(){if($step=="home"){$lnkblue.trigger("mousedown");}else{if($step=="open-lnk-blue"){$("article[data-name=about-blue]").trigger("mousedown");}else{if($step=="open-lnk-red"){$lnkblue.trigger("mousedown");}else{if($step=="about-red"){$backhome.find("a").trigger("mousedown");}}}}},navControlRight:function(){if($step=="home"){$lnkred.trigger("mousedown");}else{if($step=="open-lnk-red"){$("article[data-name=about-red]").trigger("mousedown");}else{if($step=="open-lnk-blue"){$lnkred.trigger("mousedown");}else{if($step=="about-blue"){$backhome.find("a").trigger("mousedown");}}}}},substituteSVG:function(){$("img").each(function(){if($(this).attr("src").indexOf(".svg")!=-1){sourceToChange=$(this).attr("src");$(this).attr("src",sourceToChange.replace(".svg",".png"));}});}};$("document").ready(function(){core.bootstrap();});if((/iphone|ipod|ipad.*os 5/gi).test(navigator.appVersion)){window.onpageshow=function(a){if(a.persisted){document.body.style.display="none";location.reload();}};}